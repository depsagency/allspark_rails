<div class="container mx-auto px-4 py-8 max-w-4xl">
  <div class="mb-8">
    <h1 class="text-3xl font-bold">Create New Workflow</h1>
    <p class="text-base-content/70 mt-1">Design a visual workflow for <%= @team.name %></p>
  </div>

  <%= form_with model: [@team, @workflow], url: agents_team_workflows_path(@team), local: true do |form| %>
    <% if @workflow.errors.any? %>
      <div class="alert alert-error mb-6">
        <div>
          <h3 class="font-bold">Please fix the following errors:</h3>
          <ul class="mt-2 list-disc list-inside">
            <% @workflow.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      </div>
    <% end %>

    <div class="card bg-base-100 shadow-xl mb-6">
      <div class="card-body">
        <h2 class="card-title mb-4">Basic Information</h2>
        
        <div class="form-control">
          <%= form.label :name, class: "label" do %>
            <span class="label-text font-semibold">Workflow Name</span>
            <span class="label-text-alt text-error">*Required</span>
          <% end %>
          <%= form.text_field :name, 
              class: "input input-bordered", 
              placeholder: "e.g., Feature Development Workflow",
              required: true %>
        </div>

        <div class="form-control mt-4">
          <%= form.label :description, class: "label" do %>
            <span class="label-text font-semibold">Description</span>
          <% end %>
          <%= form.text_area :description, 
              rows: 3,
              class: "textarea textarea-bordered", 
              placeholder: "Describe the purpose and process of this workflow..." %>
        </div>

        <div class="form-control mt-4">
          <%= form.label :status, class: "label" do %>
            <span class="label-text font-semibold">Initial Status</span>
          <% end %>
          <%= form.select :status, 
              options_for_select([
                ['Draft - Still being designed', 'draft'],
                ['Active - Ready to run', 'active']
              ], 'draft'),
              {},
              class: "select select-bordered" %>
          <label class="label">
            <span class="label-text-alt">You can change this later</span>
          </label>
        </div>
      </div>
    </div>

    <div class="flex justify-between">
      <%= link_to "Cancel", agents_team_workflows_path(@team), class: "btn btn-ghost" %>
      <%= form.submit "Create Workflow", class: "btn btn-primary" %>
    </div>
  <% end %>
</div>