<div class="<%= container_classes %>">
  <% if has_logo? %>
    <!-- Logo Display -->
    <div class="flex flex-col space-y-4">
      <!-- Logo Image -->
      <div class="flex justify-center">
        <div class="relative">
          <img 
            src="<%= logo_url %>" 
            alt="<%= app_project.name %> Logo" 
            class="max-w-sm h-auto rounded border border-base-300 bg-white p-4"
            style="max-height: 200px;"
          />
          <div class="absolute top-2 right-2">
            <%= render Ui::BadgeComponent.new(variant: :success, size: :sm) { "Generated" } %>
          </div>
        </div>
      </div>

      <!-- Logo Actions -->
      <% if show_actions %>
        <div class="flex justify-center space-x-2">
          <!-- Download Button -->
          <a 
            href="<%= download_url %>" 
            download="<%= logo_filename %>"
            class="btn btn-primary btn-sm"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
            Download
          </a>

          <!-- Regenerate Button -->
          <% if can_regenerate? %>
            <%= button_to generate_logo_app_project_path(app_project), 
                          method: :post, 
                          class: "btn btn-outline btn-sm",
                          confirm: "This will replace the current logo. Are you sure?",
                          form: { class: "inline" } do %>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
              </svg>
              Regenerate
            <% end %>
          <% end %>
        </div>
      <% end %>

      <!-- Logo Metadata -->
      <% if show_metadata %>
        <div class="bg-base-200 rounded p-3">
          <h4 class="font-semibold text-sm mb-2">Generation Details</h4>
          <div class="grid grid-cols-2 gap-2 text-xs">
            <div>
              <span class="font-medium">Model:</span>
              <%= generation_model %>
            </div>
            <div>
              <span class="font-medium">Cost:</span>
              <%= formatted_cost %>
            </div>
            <div>
              <span class="font-medium">Size:</span>
              <%= image_size %>
            </div>
            <div>
              <span class="font-medium">Time:</span>
              <%= processing_time %>
            </div>
            <div class="col-span-2">
              <span class="font-medium">Generated:</span>
              <%= generation_date %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <!-- No Logo State -->
    <div class="text-center py-8">
      <div class="mx-auto w-16 h-16 bg-base-200 rounded-lg flex items-center justify-center mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-base-content/40" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
      </div>
      
      <h3 class="text-lg font-semibold mb-2">No Logo Generated</h3>
      <p class="text-base-content/60 mb-4">
        <% if app_project.logo_ready_for_generation? %>
          Generate a custom logo based on your project requirements.
        <% else %>
          Complete the PRD generation before creating a logo.
        <% end %>
      </p>
      
      <% if app_project.logo_ready_for_generation? && !app_project.generating? %>
        <%= button_to generate_logo_app_project_path(app_project), 
                      method: :post, 
                      class: "btn btn-primary",
                      form: { class: "inline" } do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
          </svg>
          Generate Logo
        <% end %>
      <% elsif app_project.generating? %>
        <div class="flex items-center justify-center space-x-2">
          <span class="loading loading-spinner loading-sm"></span>
          <span class="text-sm">Generation in progress...</span>
        </div>
      <% else %>
        <%= render Ui::BadgeComponent.new(variant: :warning) { "PRD Required" } %>
      <% end %>
    </div>
  <% end %>
</div>