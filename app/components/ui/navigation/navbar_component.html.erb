<div class="<%= navbar_classes %>" data-controller="navbar">
  <div class="<%= container_classes %>">
    <!-- Mobile menu button -->
    <div class="navbar-start">
      <% if has_nav_links? %>
        <div class="dropdown lg:hidden">
          <label tabindex="0" class="btn btn-ghost" 
                 data-action="click->navbar#toggleMobileMenu"
                 aria-label="Open menu">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </label>
          <ul tabindex="0" 
              class="menu menu-sm dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52 z-50"
              data-navbar-target="mobileMenu">
            <% nav_links.each do |nav_link| %>
              <li><%= render nav_link %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
      
      <!-- Brand -->
      <% if has_brand? %>
        <%= link_to brand_url, class: "btn btn-ghost normal-case text-xl" do %>
          <% if brand_content? %>
            <%= render brand_content %>
          <% else %>
            <%= brand %>
          <% end %>
        <% end %>
      <% end %>
    </div>

    <!-- Desktop navigation -->
    <div class="navbar-center hidden lg:flex">
      <% if has_nav_links? %>
        <ul class="menu menu-horizontal px-1">
          <% nav_links.each do |nav_link| %>
            <li><%= render nav_link %></li>
          <% end %>
        </ul>
      <% end %>
    </div>

    <!-- Right side actions -->
    <div class="navbar-end gap-2">
      <!-- Search -->
      <% if has_search? %>
        <div class="form-control hidden md:flex">
          <%= form_with url: search_url, method: :get, local: true, class: "input-group input-group-sm" do |form| %>
            <%= form.text_field :q, 
                                placeholder: search_placeholder,
                                class: "input input-bordered input-sm w-24 md:w-auto",
                                data: { action: "search->navbar#search" } %>
            <%= form.submit "Search", class: "btn btn-sm btn-square" do %>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            <% end %>
          <% end %>
        </div>
      <% end %>

      <!-- Theme switcher -->
      <% if theme_switcher %>
        <!-- Theme switcher temporarily disabled -->
      <% end %>

      <!-- User menu -->
      <% if user_menu? %>
        <%= render user_menu %>
      <% end %>
    </div>
  </div>
</div>